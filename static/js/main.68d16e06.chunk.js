(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(3),l=a.n(c),u=(a(13),a(4)),i=a(5),d=a(7),o=a(6),h=(a(14),function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state={deck:[],dealer:null,player:null,wallet:0,inputValue:"",currentBet:null,gameOver:!1,message:null},s}return Object(i.a)(a,[{key:"generateDeck",value:function(){for(var e=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"],t=["\u2666","\u2663","\u2665","\u2660"],a=[],s=0;s<e.length;s++)for(var n=0;n<t.length;n++)a.push({number:e[s],suit:t[n]});return a}},{key:"dealCards",value:function(e){var t=this.getRandomCard(e),a=this.getRandomCard(t.updatedDeck),s=this.getRandomCard(a.updatedDeck),n=[t.randomCard,s.randomCard],r=[a.randomCard,{}],c={cards:n,count:this.getCount(n)},l={cards:r,count:this.getCount(r)};return{updatedDeck:s.updatedDeck,player:c,dealer:l}}},{key:"startNewGame",value:function(e){if("continue"===e)if(this.state.wallet>0){var t=this.state.deck.length<10?this.generateDeck():this.state.deck,a=this.dealCards(t),s=a.updatedDeck,n=a.player,r=a.dealer;this.setState({deck:s,dealer:r,player:n,currentBet:null,gameOver:!1,message:null})}else this.setState({message:"Game over! You are broke! Please start a new game."});else{var c=this.generateDeck(),l=this.dealCards(c),u=l.updatedDeck,i=l.player,d=l.dealer;this.setState({deck:u,dealer:d,player:i,wallet:100,inputValue:"",currentBet:null,gameOver:!1,message:null})}}},{key:"getRandomCard",value:function(e){var t=e,a=Math.floor(Math.random()*t.length),s=t[a];return t.splice(a,1),{randomCard:s,updatedDeck:t}}},{key:"placeBet",value:function(){var e=this.state.inputValue;if(e>this.state.wallet)this.setState({message:"Insufficient funds to bet that amount."});else if(e%1!==0)this.setState({message:"Please bet whole numbers only."});else{var t=this.state.wallet-e;this.setState({wallet:t,inputValue:"",currentBet:e})}}},{key:"hit",value:function(){if(this.state.gameOver)this.setState({message:"Game over! Please start a new game."});else if(this.state.currentBet){var e=this.getRandomCard(this.state.deck),t=e.randomCard,a=e.updatedDeck,s=this.state.player;s.cards.push(t),s.count=this.getCount(s.cards),s.count>21?this.setState({player:s,gameOver:!0,message:"BUST!"}):this.setState({deck:a,player:s})}else this.setState({message:"Please place bet."})}},{key:"dealerDraw",value:function(e,t){var a=this.getRandomCard(t),s=a.randomCard,n=a.updatedDeck;return e.cards.push(s),e.count=this.getCount(e.cards),{dealer:e,updatedDeck:n}}},{key:"getCount",value:function(e){var t=[];return e.forEach((function(e){"A"===e.number?t.push(e):e.number&&t.unshift(e)})),t.reduce((function(e,t){return"J"===t.number||"Q"===t.number||"K"===t.number?e+10:"A"===t.number?e+11<=21?e+11:e+1:e+t.number}),0)}},{key:"stand",value:function(){if(this.state.gameOver)this.setState({message:"Game over! Please start a new game."});else{var e=this.getRandomCard(this.state.deck),t=e.updatedDeck,a=this.state.dealer;for(a.cards.pop(),a.cards.push(e.randomCard),a.count=this.getCount(a.cards);a.count<17;){var s=this.dealerDraw(a,t);a=s.dealer,t=s.updatedDeck}if(a.count>21)this.setState({deck:t,dealer:a,wallet:this.state.wallet+2*this.state.currentBet,gameOver:!0,message:"Dealer bust! You win!"});else{var n,r=this.getWinner(a,this.state.player),c=this.state.wallet;"dealer"===r?n="Dealer wins...":"player"===r?(c+=2*this.state.currentBet,n="You win!"):(c+=this.state.currentBet,n="Push."),this.setState({deck:t,dealer:a,wallet:c,gameOver:!0,message:n})}}}},{key:"getWinner",value:function(e,t){return e.count>t.count?"dealer":e.count<t.count?"player":"push"}},{key:"inputChange",value:function(e){var t=+e.target.value;this.setState({inputValue:t})}},{key:"handleKeyDown",value:function(e){console.log(e.keyCode),13===e.keyCode&&this.placeBet()}},{key:"componentWillMount",value:function(){this.startNewGame(),document.querySelector("body").addEventListener("keydown",this.handleKeyDown.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.dealer.cards[0].number;return this.state.dealer.cards[1].number?this.state.dealer.count:"J"===t||"Q"===t||"K"===t?10:"A"===t?11:t,Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Blackjack"}),Object(s.jsxs)("div",{className:"buttons",children:[Object(s.jsx)("button",{onClick:function(){e.startNewGame()},children:"New Game"}),Object(s.jsx)("button",{onClick:function(){e.hit()},children:"Hit"}),Object(s.jsx)("button",{onClick:function(){e.stand()},children:"Stand"})]}),Object(s.jsxs)("p",{children:["Wallet: $",this.state.wallet]}),this.state.currentBet?null:Object(s.jsxs)("div",{className:"input-bet",children:[Object(s.jsx)("form",{children:Object(s.jsx)("input",{type:"text",name:"bet",placeholder:"$0.00",value:this.state.inputValue,onChange:this.inputChange.bind(this)})}),Object(s.jsx)("button",{class:"place-bet",onClick:function(){e.placeBet()},children:"Place Bet"})]}),this.state.gameOver?Object(s.jsx)("div",{className:"buttons",children:Object(s.jsx)("button",{onClick:function(){e.startNewGame("continue")},children:"Continue"})}):null,Object(s.jsxs)("p",{children:["Your Hand (",this.state.player.count,")"]}),Object(s.jsx)("table",{className:"cards",children:Object(s.jsx)("tr",{children:this.state.player.cards.map((function(e,t){return Object(s.jsx)(m,{number:e.number,suit:e.suit},t)}))})}),Object(s.jsxs)("p",{children:["Dealer's Hand (",this.state.dealer.count,")"]}),Object(s.jsx)("table",{className:"cards",children:Object(s.jsx)("tr",{children:this.state.dealer.cards.map((function(e,t){return Object(s.jsx)(m,{number:e.number,suit:e.suit},t)}))})}),Object(s.jsx)("p",{children:this.state.message})]})}}]),a}(r.a.Component)),m=function(e){var t=e.number,a=e.suit,n=t?"".concat(t).concat(a):null,r="\u2666"===a||"\u2665"===a?"card-red":"card";return Object(s.jsx)("td",{children:Object(s.jsx)("div",{className:r,children:n})})},p=h;l.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.68d16e06.chunk.js.map