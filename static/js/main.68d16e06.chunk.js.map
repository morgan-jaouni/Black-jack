{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","deck","dealer","player","wallet","inputValue","currentBet","gameOver","message","cards","suits","i","length","j","push","number","suit","playerCard1","this","getRandomCard","dealerCard1","updatedDeck","playerCard2","playerStartingHand","randomCard","dealerStartingHand","count","getCount","type","generateDeck","dealCards","setState","randomIndex","Math","floor","random","splice","rearranged","forEach","card","unshift","reduce","total","pop","draw","dealerDraw","winner","getWinner","e","target","value","console","log","keyCode","placeBet","startNewGame","document","querySelector","addEventListener","handleKeyDown","bind","card1","className","onClick","hit","stand","name","placeholder","onChange","inputChange","class","map","React","Component","Card","combo","color","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.68d16e06.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      deck: [],\n      dealer: null,\n      player: null,\n      wallet: 0,\n      inputValue: '',\n      currentBet: null,\n      gameOver: false,\n      message: null\n    };\n  }\n\n  generateDeck() {\n    const cards = [2,3,4,5,6,7,8,9,10,'J','Q','K','A'];\n    const suits = ['♦','♣','♥','♠'];\n    const deck = [];\n    for (let i = 0; i < cards.length; i++) {\n      for (let j = 0; j < suits.length; j++) {\n        deck.push({number: cards[i], suit: suits[j]});\n      }\n    }\n    return deck;\n  }\n  \n  dealCards(deck) {\n    const playerCard1 = this.getRandomCard(deck);\n    const dealerCard1 = this.getRandomCard(playerCard1.updatedDeck);\n    const playerCard2 = this.getRandomCard(dealerCard1.updatedDeck);    \n    const playerStartingHand = [playerCard1.randomCard, playerCard2.randomCard];\n    const dealerStartingHand = [dealerCard1.randomCard, {}];\n    \n    const player = {\n      cards: playerStartingHand,\n      count: this.getCount(playerStartingHand)\n    };\n    const dealer = {\n      cards: dealerStartingHand,\n      count: this.getCount(dealerStartingHand)\n    };\n    \n    return {updatedDeck: playerCard2.updatedDeck, player, dealer};\n  }\n\n  startNewGame(type) {\n    if (type === 'continue') {\n      if (this.state.wallet > 0) {\n        const deck = (this.state.deck.length < 10) ? this.generateDeck() : this.state.deck;\n        const { updatedDeck, player, dealer } = this.dealCards(deck);\n\n        this.setState({\n          deck: updatedDeck,\n          dealer,\n          player,\n          currentBet: null,\n          gameOver: false,\n          message: null\n        });\n      } else {\n        this.setState({ message: 'Game over! You are broke! Please start a new game.' });\n      }\n    } else {\n      const deck = this.generateDeck();\n      const { updatedDeck, player, dealer } = this.dealCards(deck);\n\n      this.setState({\n        deck: updatedDeck,\n        dealer,\n        player,\n        wallet: 100,\n        inputValue: '',\n        currentBet: null,\n        gameOver: false,\n        message: null\n      });\n    }\n  }\n       \n  getRandomCard(deck) {\n    const updatedDeck = deck;\n    const randomIndex = Math.floor(Math.random() * updatedDeck.length);\n    const randomCard = updatedDeck[randomIndex];\n    updatedDeck.splice(randomIndex, 1);\n    return { randomCard, updatedDeck };\n  }\n  \n  placeBet() {\n    const currentBet = this.state.inputValue;\n\n    if (currentBet > this.state.wallet) {\n      this.setState({ message: 'Insufficient funds to bet that amount.' });\n    } else if (currentBet % 1 !== 0) {\n      this.setState({ message: 'Please bet whole numbers only.' });\n    } else {\n      // Deduct current bet from wallet\n      const wallet = this.state.wallet - currentBet;\n      this.setState({ wallet, inputValue: '', currentBet });\n    }\n  }\n  \n  hit() {\n    if (!this.state.gameOver) {\n      if (this.state.currentBet) {\n        const { randomCard, updatedDeck } = this.getRandomCard(this.state.deck);\n        const player = this.state.player;\n        player.cards.push(randomCard);\n        player.count = this.getCount(player.cards);\n\n        if (player.count > 21) {\n          this.setState({ player, gameOver: true, message: 'BUST!' });\n        } else {\n          this.setState({ deck: updatedDeck, player });\n        }\n      } else {\n        this.setState({ message: 'Please place bet.' });\n      }\n    } else {\n      this.setState({ message: 'Game over! Please start a new game.' });\n    }\n  }\n  \n  dealerDraw(dealer, deck) {\n    const { randomCard, updatedDeck } = this.getRandomCard(deck);\n    dealer.cards.push(randomCard);\n    dealer.count = this.getCount(dealer.cards);\n    return { dealer, updatedDeck };\n  }\n  \n  getCount(cards) {\n    const rearranged = [];\n    cards.forEach(card => {\n      if (card.number === 'A') {\n        rearranged.push(card);\n      } else if (card.number) {\n        rearranged.unshift(card);\n      }\n      \n      \n      // (card.number === 'A') ? rearranged.push(card) : rearranged.unshift(card);\n    });\n    \n    return rearranged.reduce((total, card) => {\n      if (card.number === 'J' || card.number === 'Q' || card.number === 'K') {\n        return total + 10;\n      } else if (card.number === 'A') {\n        return (total + 11 <= 21) ? total + 11 : total + 1;\n      } else {\n        return total + card.number;\n      }\n    }, 0);\n  }\n  \n  stand() {\n    if (!this.state.gameOver) {\n      // Show dealer's 2nd card\n      const randomCard = this.getRandomCard(this.state.deck);\n      let deck = randomCard.updatedDeck;\n      let dealer = this.state.dealer;\n      dealer.cards.pop();\n      dealer.cards.push(randomCard.randomCard);\n      dealer.count = this.getCount(dealer.cards);\n\n      // Keep drawing cards until count is 17 or more\n      while(dealer.count < 17) {\n        const draw = this.dealerDraw(dealer, deck);\n        dealer = draw.dealer;\n        deck = draw.updatedDeck;\n      }\n\n      if (dealer.count > 21) {\n        this.setState({\n          deck,\n          dealer,\n          wallet: this.state.wallet + this.state.currentBet * 2,\n          gameOver: true,\n          message: 'Dealer bust! You win!'\n        });\n      } else {\n        const winner = this.getWinner(dealer, this.state.player);\n        let wallet = this.state.wallet;\n        let message;\n        \n        if (winner === 'dealer') {\n          message = 'Dealer wins...';\n        } else if (winner === 'player') {\n          wallet += this.state.currentBet * 2;\n          message = 'You win!';\n        } else {\n          wallet += this.state.currentBet;\n          message = 'Push.';\n        }\n        \n        this.setState({\n          deck, \n          dealer,\n          wallet,\n          gameOver: true,\n          message\n        });\n      } \n    } else {\n      this.setState({ message: 'Game over! Please start a new game.' });\n    }\n  }\n  \n  getWinner(dealer, player) {\n    if (dealer.count > player.count) {\n      return 'dealer';\n    } else if (dealer.count < player.count) {\n      return 'player';\n    } else {\n      return 'push';\n    }\n  }\n  \n  inputChange(e) {\n    const inputValue = +e.target.value;\n    this.setState({inputValue});\n  }\n  \n  handleKeyDown(e) {\n    const enter = 13;\n    console.log(e.keyCode);\n    \n    if (e.keyCode === enter) {\n      this.placeBet();\n    }\n  }\n  \n  componentWillMount() {\n    this.startNewGame();\n    const body = document.querySelector('body');\n    body.addEventListener('keydown', this.handleKeyDown.bind(this));\n  }\n  \n  render() {\n    let dealerCount;\n    const card1 = this.state.dealer.cards[0].number;\n    const card2 = this.state.dealer.cards[1].number;\n    if (card2) {\n      dealerCount = this.state.dealer.count;\n    } else {\n      if (card1 === 'J' || card1 === 'Q' || card1 === 'K') {\n        dealerCount = 10;\n      } else if (card1 === 'A') {\n        dealerCount = 11;\n      } else {\n        // eslint-disable-next-line\n        dealerCount = card1;\n      }\n    }\n\n    return (\n      <div>\n          <h1>Blackjack</h1>\n        <div className=\"buttons\">\n          <button onClick={() => {this.startNewGame()}}>New Game</button>\n          <button onClick={() => {this.hit()}}>Hit</button>\n          <button onClick={() => {this.stand()}}>Stand</button>\n        </div>\n        \n        <p>Wallet: ${ this.state.wallet }</p>\n        {\n          !this.state.currentBet ? \n          <div className=\"input-bet\">            \n            <form>\n              <input type=\"text\" name=\"bet\" placeholder=\"$0.00\" value={this.state.inputValue} onChange={this.inputChange.bind(this)}/>\n            </form>\n            <button class=\"place-bet\" onClick={() => {this.placeBet()}}>Place Bet</button>\n          </div>\n          : null\n        }\n        {\n          this.state.gameOver ?\n          <div className=\"buttons\">\n            <button onClick={() => {this.startNewGame('continue')}}>Continue</button>\n          </div>\n          : null\n        }\n        <p>Your Hand ({ this.state.player.count })</p>\n        <table className=\"cards\">\n          <tr>\n            { this.state.player.cards.map((card, i) => {\n              return <Card key={i} number={card.number} suit={card.suit}/>\n            }) }\n          </tr>\n        </table>\n        \n        <p>Dealer's Hand ({ this.state.dealer.count })</p>\n        <table className=\"cards\">\n          <tr>\n            { this.state.dealer.cards.map((card, i) => {\n              return <Card key={i} number={card.number} suit={card.suit}/>;\n            }) }\n          </tr>\n        </table>\n        \n        <p>{ this.state.message }</p>\n      </div>\n    );\n  }\n};\n\nconst Card = ({ number, suit }) => {\n  const combo = (number) ? `${number}${suit}` : null;\n  const color = (suit === '♦' || suit === '♥') ? 'card-red' : 'card';\n  \n  return (\n    <td>\n      <div className={color}>\n        { combo }\n      </div>\n    </td>\n  );\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}